# syntax=docker/dockerfile:1

# Select Python image
FROM python:3.11-slim

# Install git
RUN apt-get update
RUN apt-get -y install git

# Install fractal-client
RUN pip install fractal-client==1.3.4a1

# Clone fractal-demos
RUN git clone https://github.com/fractal-analytics-platform/fractal-demos.git /home/fractal-share/fractal-demos
CMD pwd && ls -lash && ls -lash /home/fractal-share/ && ls -lash /home/fractal-share/fractal-demos

# COPY demos/fractal.env /home/fractal-share/fractal-demos/examples/.fractal.env
# COPY demos/example_01.sh /home/fractal-share/fractal-demos/examples/example_01.sh

# WORKDIR /home/fractal-share/fractal-demos/examples/
# RUN pip install zenodo-get
# RUN mkdir -p ../images

# launch command
# CMD echo "START 01" && pwd && ls -lash && bash example_01.sh && echo "END 01"
